<!--index.wxml-->
<view class="game-container">
  <view class="action-panel" style="height:{{upWrapHeight}}px;">
    <view class="left" style="width:{{windowWidth - upWrapHeight -10}}px;height:{{upWrapHeight}}px;">
      <text class="label">我的得分</text>
      <text class="score">{{score}}</text>
    </view>
    <view class="right" style="width:{{upWrapHeight}}px;height:{{upWrapHeight}}px;">
      <button class="btn" bindtap="ReStart" style="{{btnFontSize}}">重新开始</button>
      <view class="icons">
        <text class="icon icon-{{soundCss}}" bindtap="SoundSwitch"></text>
        <text class="icon icon-setting" bindtap="Setting"></text>
      </view>
    </view>
  </view>
  <view class="border" style="height:{{windowWidth}}px;width:{{windowWidth}}px;">
    <view class="sqr-wrap" style="height:{{windowWidth}}px;width:{{windowWidth}}px;" bindtouchstart="TouchStart" bindtouchend="TouchEnd">
      <view class="cell" wx:for="{{cells}}" wx:key="index" wx:for-item="cell" wx:for-index="c" style="width:{{cellWidth}}%;height: {{cellWidth}}%;left:{{cell.c*cellWidth}}%;top:{{cell.r*cellWidth}}%;">
        <view class="placeholder">
          <view class="true-cell cell-{{matrix[cell.r][cell.c]}}" animation="{{ani[cell.r][cell.c]}}">
            <view class="number">
              {{matrix[cell.r][cell.c] || ''}}
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>
  <view wx:if="{{showSetting}}" class="popout-wrap">
    <view class="mask" bindtap="SettingClose">
    </view>
    <view class="pop-content">
      <view class="icon icon-close" bindtap="SettingClose"></view>
      <view>
        <button bindtap="ChooseMod" data-mode="5"> 5 * 5 </button>
        <button bindtap="ChooseMod" data-mode="4"> 4 * 4 </button>
      </view>
    </view>
  </view>
</view>
